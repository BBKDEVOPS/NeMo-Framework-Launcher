run:
  name: export_${.model_train_name}
  time_limit: "2:00:00"
  model_train_name: "megatron-clip"
  dependency: "singleton"
  training_dir: ${base_results_dir}/${.model_train_name}
  config_summary: clip_fp${export.model.data_type}
  results_dir: ${base_results_dir}/${.model_train_name}/export_${.config_summary}
  model_type: "megatron_clip"

model:
  restore_from_path: ${base_results_dir}/${export.run.model_train_name}/results/checkpoints/nemo_clip.nemo  # Path to a trained CLIP .nemo file
  precision: 16  # 32|16

infer:
  max_batch_size: 64
  max_dim: 224
  max_text: 64
  out_path: ${export.run.results_dir}
