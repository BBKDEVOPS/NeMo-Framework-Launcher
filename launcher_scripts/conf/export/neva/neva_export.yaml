run:
  name: export_${.model_train_name}
  time_limit: "2:00:00"
  model_train_name: neva
  dependency: "singleton"
  training_dir: ${base_results_dir}/${.model_train_name}
  config_summary: neva_${export.model.precision}
  results_dir: ${base_results_dir}/${.model_train_name}/export_${.config_summary}
  mode_type: "megatron-neva"

infer:
  out_dir: ${export.run.results_dir}
  vision:
    min_batch_size: 1
    opt_batch_size: 1
    max_batch_size: 1
    clip: openai/clip-vit-large-patch14
  llm:
    tensor_parallelism: 1
    max_input_len: 2048
    max_output_len: 1024
    max_batch_size: 1

model:
  precision: bf16
  restore_from_path: /path/to/pretrained.nemo
